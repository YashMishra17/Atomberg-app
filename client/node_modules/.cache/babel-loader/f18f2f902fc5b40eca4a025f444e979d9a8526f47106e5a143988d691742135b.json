{"ast":null,"code":"var _jsxFileName = \"F:\\\\atomberg-controller\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SERVER = \"http://localhost:4000\";\nfunction App() {\n  _s();\n  const [apiKey, setApiKey] = useState(\"\");\n  const [refreshToken, setRefreshToken] = useState(\"\");\n  const [fans, setFans] = useState([]);\n  const [selectedFan, setSelectedFan] = useState(null);\n  async function login() {\n    const res = await fetch(`${SERVER}/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        apiKey,\n        refreshToken\n      })\n    });\n    if (res.ok) {\n      fetchFans();\n    } else {\n      alert(\"Authentication failed\");\n    }\n  }\n  async function fetchFans() {\n    const res = await fetch(`${SERVER}/fans?apiKey=${apiKey}`);\n    const data = await res.json();\n    setFans(data.devices || []);\n  }\n  async function controlFan(id, command) {\n    await fetch(`${SERVER}/control`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        deviceId: id,\n        command,\n        apiKey\n      })\n    });\n    fetchFans();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Atomberg Fan Controller\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), fans.length === 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"API Key\",\n        onChange: e => setApiKey(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Refresh Token\",\n        onChange: e => setRefreshToken(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: login,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Available Fans\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: fans.map(fan => /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            cursor: \"pointer\"\n          },\n          onClick: () => setSelectedFan(fan),\n          children: fan.name\n        }, fan.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), selectedFan && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: selectedFan.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => controlFan(selectedFan.id, {\n            power: true\n          }),\n          children: \"Turn ON\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => controlFan(selectedFan.id, {\n            power: false\n          }),\n          children: \"Turn OFF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => controlFan(selectedFan.id, {\n            speed: 1\n          }),\n          children: \"Speed 1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"3Y+vhrFJG2cZQXS8n24STD6NXOs=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","Fragment","_Fragment","SERVER","App","_s","apiKey","setApiKey","refreshToken","setRefreshToken","fans","setFans","selectedFan","setSelectedFan","login","res","fetch","method","headers","body","JSON","stringify","ok","fetchFans","alert","data","json","devices","controlFan","id","command","deviceId","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","length","placeholder","onChange","e","target","value","onClick","map","fan","cursor","name","power","speed","_c","$RefreshReg$"],"sources":["F:/atomberg-controller/client/src/App.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nconst SERVER = \"http://localhost:4000\";\r\n\r\nfunction App() {\r\n  const [apiKey, setApiKey] = useState(\"\");\r\n  const [refreshToken, setRefreshToken] = useState(\"\");\r\n  const [fans, setFans] = useState([]);\r\n  const [selectedFan, setSelectedFan] = useState(null);\r\n\r\n  async function login() {\r\n    const res = await fetch(`${SERVER}/login`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ apiKey, refreshToken })\r\n    });\r\n\r\n    if (res.ok) {\r\n      fetchFans();\r\n    } else {\r\n      alert(\"Authentication failed\");\r\n    }\r\n  }\r\n\r\n  async function fetchFans() {\r\n    const res = await fetch(`${SERVER}/fans?apiKey=${apiKey}`);\r\n    const data = await res.json();\r\n    setFans(data.devices || []);\r\n  }\r\n\r\n  async function controlFan(id, command) {\r\n    await fetch(`${SERVER}/control`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        deviceId: id,\r\n        command,\r\n        apiKey\r\n      })\r\n    });\r\n\r\n    fetchFans();\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n      <h1>Atomberg Fan Controller</h1>\r\n\r\n      {fans.length === 0 ? (\r\n        <>\r\n          <input\r\n            placeholder=\"API Key\"\r\n            onChange={(e) => setApiKey(e.target.value)}\r\n          />\r\n          <br />\r\n          <input\r\n            placeholder=\"Refresh Token\"\r\n            onChange={(e) => setRefreshToken(e.target.value)}\r\n          />\r\n          <br />\r\n          <button onClick={login}>Login</button>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <h2>Available Fans</h2>\r\n          <ul>\r\n            {fans.map((fan) => (\r\n              <li\r\n                key={fan.id}\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() => setSelectedFan(fan)}\r\n              >\r\n                {fan.name}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n\r\n          {selectedFan && (\r\n            <>\r\n              <h3>{selectedFan.name}</h3>\r\n              <button onClick={() => controlFan(selectedFan.id, { power: true })}>\r\n                Turn ON\r\n              </button>\r\n              <button onClick={() => controlFan(selectedFan.id, { power: false })}>\r\n                Turn OFF\r\n              </button>\r\n              <button onClick={() => controlFan(selectedFan.id, { speed: 1 })}>\r\n                Speed 1\r\n              </button>\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}